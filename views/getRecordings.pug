doctype html
html
  head
    title Get Recordings
    include includes/base.pug
    include includes/bootstrap4.pug
    link(href='/stylesheets/getRecordings.css', rel='stylesheet', media='screen')
    link(href='/stylesheets/multirange.css', rel='stylesheet', media='screen')
    link(href='/stylesheets/auto-complete.css', rel='stylesheet', media='screen')
    script(type='text/javascript', src='javascripts/getRecordings.js')
    script(type='text/javascript', src='javascripts/includes/multirange.js')

  body
    include includes/navbar.pug
    .container
      .form-row
        //- Heading
        .form-group.col-12
          h4 Search Video Recordings
        
        //- Devices
        .form-group.col-sm-4
          label Device
          .form-row(style="margin-right: 0px; margin-left: 0px;")
            select.form-control.col-xs-12.col-sm-6#deviceSelect
              option all
            input.form-control.col-xs-12.col-sm-6#deviceAutocomplete(placeholder='filter' style="font-style: italic;")
        
        //- Tags
        .form-group.col-sm-4
          label Tags
          select.form-control#tagMode
            option(value="any" selected) any
            option(value="untagged") untagged only
            option(value="tagged") tagged only
            option(value="automatic-only") automatic only
            option(value="human-only") manual only
            option(value="automatic+human") both automatic & manual
        
        //- Duration
        .form-group.col-sm-4
          label Duration (sec)
          .row
            .col-6
              span#durationLow 0
              span &nbsp;to&nbsp;
              span#durationHigh max
              span &nbsp;sec
            .col-6(style='text-align: right; font-size: small;')
              span#durationMax &nbsp;
              span &nbsp;
              a(onclick='changeDurationSliderMax()')
                i#durationMaxChange.fas.fa-angle-double-right(style="display: none; text-decoration: none;")
          .col(style="padding-right: 0; padding-left: 0;")
            input.form-control#duration(type='range' multiple value='0,100' onchange='addDurationFromSlider()' max='100')
          
        //- Date range
        .form-group.col
          label From Date
          input.form-control#fromDate(type='date')
        .form-group.col
          label To Date
          input.form-control#toDate(type='date')
    
      .form-row
        //- Query buttons
        .form-group.col-12
          input.btn.btn-block(type='button', value='Search', onclick='sendQuery()')
        //- Count of matches
        .form-group.col-12
          h5.text-center#count(style="text-align: center;")
        //- Limit and offset
        .form-group.col-12
          .form-row
            label.col-2.col-md-1.col-form-label.text-right Limit
            input.col-3.col-md-2.form-control#limit(type='number', value=100)
            label.col-2.col-md-1.col-form-label.text-right Offset
            input.col-3.col-md-2.form-control#offset(type='number', value=0)
            input.col-1.col-md-1.btn(type='button', value='<', onclick="dec()")
            input.col-1.col-md-1.btn(type='button', value='>', onclick="inc()")

  .container-flex
    .table-responsive
      table#results-table(class="table table-striped table-hover")
        tr
          th View
          th ID
          th Device
          th Group
          th Location
          th Time
          th Date
          th Duration
          th Tags
          th Other
          th File
          th Raw data

    include includes/footer.pug
    script(type='text/javascript', src='javascripts/includes/auto-complete.min.js')
